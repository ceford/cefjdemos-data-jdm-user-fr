<!-- Filename: Visual_Studio_Code / Display title: Extras de Visual Studio Code -->

## Introduction

[Visual Studio Code](https://code.visualstudio.com/) est un éditeur de code source développé par Microsoft pour Windows, Linux et macOS (y compris les Mac M1). Il inclut la prise en charge du débogage, du contrôle Git intégré et de GitHub, de la coloration syntaxique, de la complétion intelligente de code, des extraits de code, et du refactoring de code.

La principale caractéristique de l'éditeur est qu'il est extensible et qu'il possède une vaste collection d'extensions maintenues par des utilisateurs et par Microsoft lui-même.

En guise d'introduction générale, voici une présentation sur le sujet
<a href="https://www.renekreijveld.nl/slides/juglondon/vscode.pdf" 
rel="nofollow noreferrer noopener">Développement Joomla avec Visual Studio Code (PDF, 1Mo)</a>, par René Kreijveld, développeur Joomla Destiny B.V. Joomla User Group London, le 16 mars 2021.

Sur cette page, nous détaillons une liste d'extensions recommandées pour configurer VSCode afin de supporter PHP et Joomla.

Voici une liste d'extensions pour supporter PHP sur VSCode :

- **PHP Debug** <a 
  href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-debug"
  rel="nofollow noreferrer noopener">felixfbecker.php-debug</a>. Support de débogage pour PHP avec XDebug.
- **phpcs** <a 
  href="https://marketplace.visualstudio.com/items?itemName=ikappas.phpcs"
  rel="nofollow noreferrer noopener">ikappas.phpcs</a>. PHP CodeSniffer pour Visual Studio Code.
- **PHP Intelephense** <a 
  href="https://marketplace.visualstudio.com/items?itemName=bmewburn.vscode-intelephense-client"
  rel="nofollow noreferrer noopener">bmewburn.vscode-intelephense-client</a>. Intelligence de code PHP pour Visual Studio Code. Alternative : *PHP IntelliSense* <a 
  href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-intellisense"
  rel="nofollow noreferrer noopener">felixfbecker.php-intellisense</a>.
- **PHPUnit** <a 
  href="https://marketplace.visualstudio.com/items?itemName=emallin.phpunit"
  rel="nofollow noreferrer noopener">emallin.phpunit</a>. Exécutez des tests PHPUnit depuis VSCode.
- **phpfmt** <a 
  href="https://marketplace.visualstudio.com/items?itemName=kokororin.vscode-phpfmt"
  rel="nofollow noreferrer noopener">kokororin.vscode-phpfmt</a>. L'extension phpfmt manquante pour Visual Studio Code. Le formateur phpfmt peut analyser et formater même un fichier PHP version 4 si nécessaire.
- **php cs fixer** <a 
  href="https://marketplace.visualstudio.com/items?itemName=junstyle.php-cs-fixer"
  rel="nofollow noreferrer noopener">junstyle.php-cs-fixer</a> : En cas d'option pour le <a href="https://www.php-fig.org/psr/psr-2/"
  rel="nofollow noreferrer noopener">PSR-2 : Guide de style de codage</a>. Extension PHP CS Fixer pour VS Code, formateur PHP, outil d'embellissement de code PHP, formatage HTML.
- **PHP Namespace Resolver** <a 
  href="https://marketplace.visualstudio.com/items?itemName=MehediDracula.php-namespace-resolver"
  rel="nofollow noreferrer noopener">MehediDracula.php-namespace-resolver</a> :
  Le résolveur de namespace PHP peut importer et étendre votre classe. Vous pouvez également trier vos classes importées par longueur de ligne ou par ordre alphabétique.
- **PHP Phan (Analyzer)** <a 
  href="https://marketplace.visualstudio.com/items?itemName=TysonAndre.php-phan"
  rel="nofollow noreferrer noopener">tysonandre.php-phan</a>. Phan - analyseur statique pour PHP, minimisant les faux positifs.
- **phpmd** <a 
  href="https://marketplace.visualstudio.com/items?itemName=linyang95.phpmd"
  rel="nofollow noreferrer noopener">linyang95.phpmd</a>. Extension VS Code pour PHP, utilisant phpmd.

Le protocole Git est pris en charge nativement sur VSCode. Cependant, il existe des extensions pour améliorer la gestion du code et des dépôts. Voici une liste des extensions en vedette pour cette tâche :

- **Git History** <a 
  href="https://marketplace.visualstudio.com/items?itemName=donjayamanne.githistory"
  rel="nofollow noreferrer noopener">donjayamanne.githistory</a> : Historique Git, Recherche et Plus (y compris git log).
- **GitHub** <a 
  href="https://marketplace.visualstudio.com/items?itemName=KnisterPeter.vscode-github"
  rel="nofollow noreferrer noopener">KnisterPeter.vscode-github</a> :
  Cette extension vscode s'intègre avec GitHub.
- **GitHub Pull Requests and Issues** <a
  href="https://marketplace.visualstudio.com/items?itemName=GitHub.vscode-pull-request-github"
  rel="nofollow noreferrer noopener">GitHub.vscode-pull-request-github</a> :
  Examinez et gérez vos pull requests et issues GitHub directement dans VS Code.
- **gitignore** <a 
  href="https://marketplace.visualstudio.com/items?itemName=codezombiech.gitignore"
  rel="nofollow noreferrer noopener">codezombiech.gitignore</a> : Une extension pour Visual Studio Code qui vous aide à travailler avec les fichiers .gitignore.
- **Visual Studio Code Commitizen Support** <a 
  href="https://marketplace.visualstudio.com/items?itemName=KnisterPeter.vscode-commitizen"
  rel="nofollow noreferrer noopener">KnisterPeter.vscode-commitizen</a> :
  Cette extension vscode ajoute le support de commitizen.

Voici une liste d'extensions pour supporter Joomla sur VSCode :

- **Joomla Snippets** <a 
  href="https://marketplace.visualstudio.com/items?itemName=AnibalSanchez.vs-code-joomla-snippets"
  rel="nofollow noreferrer noopener">anibalsanchez.vs-code-joomla-snippets</a>.
  Extraits pour Joomla. Y compris Joomla 3.x et Joomla 4 Snippets.
- **PHP Getters & Setters** <a 
  href="https://marketplace.visualstudio.com/items?itemName=phproberto.vscode-php-getters-setters"
  rel="nofollow noreferrer noopener">phproberto.vscode-php-getters-setters</a>.
  Créez des getters et setters PHP à partir des propriétés de classe.

Voici une liste d'extensions pour supporter le développement SSH à distance :

- **Remote - SSH** <a 
  href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh"
  rel="nofollow noreferrer noopener">ms-vscode-remote.remote-ssh</a> :
  L'extension Remote - SSH vous permet d'utiliser n'importe quelle machine distante avec un serveur SSH comme environnement de développement. Cela peut grandement simplifier le développement et le dépannage dans une grande variété de situations. Pour plus d'informations :
  <a href="https://code.visualstudio.com/docs/remote/ssh-tutorial"
  rel="nofollow noreferrer noopener">Développement à distance sur SSH</a>
- **Live Share** <a 
  href="https://marketplace.visualstudio.com/items?itemName=MS-vsliveshare.vsliveshare"
  rel="nofollow noreferrer noopener">MS-vsliveshare.vsliveshare</a> :
  Visual Studio Live Share vous permet de collaborer en temps réel sur l'édition et le débogage, peu importe les langages de programmation ou les types d'applications que vous développez. Il vous permet de partager instantanément (et en toute sécurité) votre projet actuel, puis au besoin, des sessions de débogage, des instances de terminaux, des applications web en localhost, des appels vocaux, et plus encore !

Voici une liste d'extensions pratiques hautement recommandées pour faciliter le développement :

- **EditorConfig for VS Code** <a 
  href="https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig"
  rel="nofollow noreferrer noopener">editorconfig.editorconfig</a>
  Support EditorConfig pour Visual Studio Code.
- **change-case** <a 
  href="https://marketplace.visualstudio.com/items?itemName=wmaurer.change-case"
  rel="nofollow noreferrer noopener">wmaurer.change-case</a> : Changez rapidement la casse (camelCase, CONSTANT_CASE, snake_case, etc) de la sélection courante ou du mot courant.
- **Project Manager** <a 
  href="https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager"
  rel="nofollow noreferrer noopener">alefragnani.project-manager</a> : Il vous aide à accéder facilement à vos projets, peu importe où ils se trouvent. Ne ratez plus ces projets importants.

## Configuration de débogage PHP

L'extension prend en charge les configurations les plus courantes de PHP
<a href="https://xdebug.org/"
rel="nofollow noreferrer noopener">XDebug</a>. Elle intègre pleinement toutes
les fonctionnalités de VSCode pour déboguer les scripts PHP.

Pour configurer l'extension, visitez la documentation officielle.

Comme exemple de configuration pour le débogage sous VSCode, voici un
launch.json courant :

```json
{
    // Utilisez IntelliSense pour découvrir les attributs possibles.
    // Survolez pour voir les descriptions des attributs existants.
    // Pour plus d'informations, visitez : https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [

        {
            "name": "Écouter pour XDebug",
            "type": "php",
            "request": "launch",

            // Port serveur distant XDebug - 9000 est le port XDebug par défaut
            "port": 9000,

            // Chemin serveur distant -> Chemin projet local
            "pathMappings": {
                "/app/www": "${workspaceRoot}/www"
            }
        },
        {
            "name": "Lancer le script actuellement ouvert",
            "type": "php",
            "request": "launch",
            "program": "${file}",
            "cwd": "${fileDirname}",

            // Port XDebug local - 9000 est le port XDebug par défaut
            "port": 9000
        }
    ]
}
```

En rapport avec la configuration launch.json que
felixfbecker/vscode-php-debug nécessite, il s'agit de la configuration de PHP
XDebug lui-même.

À ce jour, votre environnement de développement pourrait avoir xdebug-2 ou
xdebug-3. Ils diffèrent dans les paramètres requis. Pour configurer PHP
XDebug, voici les paramètres les plus courants pour php.ini.

### Configuration de XDebug 2

```ini
[XDebug]
;;;;;;;;;;;;;;;;;;;
; xdebug-2.9.8
;;;;;;;;;;;;;;;;;;;
xdebug.remote_enable = 1
xdebug.remote_autostart = 1
; xdebug.remote_port = 9000
```

### Configuration de XDebug 3

```ini
[XDebug]
;;;;;;;;;;;;;;;;;;;
; xdebug-3.0.0
; https://xdebug.org/docs/upgrade_guide
;;;;;;;;;;;;;;;;;;;
xdebug.mode = debug
xdebug.start_with_request = yes
xdebug.discover_client_host = true
; xdebug.client_port = 9000
```

Pour en savoir plus sur le fonctionnement interne de XDebug pour se connecter à l'éditeur,
consultez la [documentation](Xdebug 3 — Documentation).

## Configuration de phpcs

Pour configurer l'extension, veuillez consulter la documentation officielle. L'extension supporte les configurations les plus courantes de <a href="https://pear.php.net/package/PHP_CodeSniffer/" rel="nofollow noreferrer noopener">PHP_CodeSniffer</a>.

Par défaut, PHP_CodeSniffer est livré avec plusieurs standards de codage. Une fois l'extension installée, elle fonctionne avec **PSR2**.

```json
"phpcs.standard": "PSR2",
```

Pour configurer l'extension pour appliquer les **Joomla! Coding Standards**, installez les règles en suivant le guide officiel. Une fois les **Joomla! Coding Standards** installés, configurez les paramètres utilisateur en suivant cet exemple de configuration : 

```json
"phpcs.standard": "/home/VOTRE-UTILISATEUR/.../Joomla",
```

## Configuration de PHP Intelephense

Pour configurer l'extension, visitez la
documentation d'intelephense.
L'extension ne nécessite pas de configuration supplémentaire.

VSCode propose un support de base pour le langage PHP. Il est donc probablement
une bonne idée de désactiver le support par défaut pour éviter les conflits :

```json
// Désactiver les suggestions de base
"php.suggest.basic": false,

// Activer les suggestions de code dans les commentaires
"editor.quickSuggestions": { "comments": true },
```

Comme alternative, il existe aussi une extension très populaire : **PHP
IntelliSense** <a
href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-intellisense"
rel="nofollow noreferrer noopener">felixfbecker.php-intellisense</a>
support avancé pour l'autocomplétion et le refactoring en PHP.

## Configuration PHPUnit

Pour configurer l'extension, visitez la documentation vscode phpunit.

L'extension intègre
<a href="https://phpunit.de/"
rel="nofollow noreferrer noopener">PHP Unit</a> avec VSCode, de sorte que toutes
les fonctionnalités de PHP Unit sont intégrées avec VSCode et peuvent aussi être
paramétrées pour une intégration plus poussée avec l'interface utilisateur.

Voici un exemple de configuration de l'extension :

        "phpunit.preferRunClassTestOverQuickPickWindow": true,
        "phpunit.driverPriority": [
            "Path",
            "Command",
            "Composer",
            "Phar",
            "Ssh",
            "GlobalPhpUnit"
        ],

## Configuration de php cs fixer (Uniquement pour PSR2)

Pour configurer l'extension, consultez la documentation de vscode php cs fixer. L'extension intègre <a href="https://github.com/FriendsOfPHP/PHP-CS-Fixer" rel="nofollow noreferrer noopener">PHP-CS-Fixer</a> avec VSCode, donc toutes les fonctionnalités de PHP-CS-Fixer sont intégrées dans VSCode et peuvent également être paramétrées pour une intégration plus poussée avec l'interface utilisateur.

Pour appliquer automatiquement PHP-CS-Fixer aux fichiers PHP, configurez les paramètres utilisateur de cette manière :

        "[php]": {
            "editor.defaultFormatter": "junstyle.php-cs-fixer",
        },
        "php-cs-fixer.onsave": true,

## Configuration de PHP Phan (Analyseur)

Pour configurer l'extension, consultez la documentation officielle. Voici un exemple de configuration de l'extension :

        "phan.phpExecutablePath": "/usr/bin/php",
        "phan.analyzedFileExtensions": [
            "php"
        ],

## Configuration de phpmd

Pour configurer l'extension, consultez la documentation officielle. L'extension ne nécessite pas de configuration supplémentaire.

Voici un exemple de configuration de l'extension :

        "phpmd.command": "php /home/VOTRE-UTILISATEUR/.../phpmd/phpmd.phar",
        "phpmd.rules": "/home/VOTRE-UTILISATEUR/.../phpmd-rulesets/phpmd_config.xml",

## Configurer EditorConfig pour VS Code

EditorConfig est un format de fichier et une collection de plugins pour éditeurs de texte permettant de maintenir des styles de codage cohérents entre différents éditeurs et IDE.

Pour configurer l'éditeur selon vos préférences, créez un fichier .editorconfig :

    ; EditorConfig aide les développeurs à définir et à maintenir des styles de codage cohérents entre différents éditeurs et IDE.

    ; Pour plus d'informations, visitez http://editorconfig.org.
    root = true

    ; Choisissez entre lf ou rf pour la propriété "end_of_line"
    [*]
    charset = utf-8
    end_of_line = lf
    indent_size = 2
    indent_style = space
    insert_final_newline = true
    trim_trailing_whitespace = true

    # editorconfig-tools est incapable d'ignorer les longues chaînes ou les URL
    max_line_length = null

    [*.html]
    indent_style = tab

    # PSR-2
    # [*.php]
    # indent_size = 4
    # indent_style = space

    # Normes de codage Joomla!
    [*.php]
    indent_size = 4
    indent_style = tab

    [*.md]
    trim_trailing_whitespace = false

    [*.yml]
    indent_style = space
    indent_size = 2

*Traduit par openai.com*

